(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{19:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(11),s=n.n(a),o=n(2),i=(n(16),n(7)),l=n(0);function u(){return Object(l.jsx)("div",{children:Object(l.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(l.jsx)(i.c,{className:"navbar-brand",to:"/",children:Object(l.jsx)("h1",{children:"community resources near you."})}),Object(l.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(l.jsx)("span",{className:"navbar-toggler-icon"})}),Object(l.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(l.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(i.c,{className:"nav-link",to:"/create",children:"Create Record"})})})})]})})}var d=n(3),j=n.n(d),m=n(6),p=n(4),b=function(e){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.record.name}),Object(l.jsx)("td",{children:e.record.description}),Object(l.jsx)("td",{children:e.record.address}),Object(l.jsxs)("td",{children:[Object(l.jsx)(i.b,{className:"btn btn-link",to:"/edit/".concat(e.record._id),children:"Edit"})," |",Object(l.jsx)("button",{className:"btn btn-link",onClick:function(){e.deleteRecord(e.record._id)},children:"Delete"})]})]})};function h(){var e=Object(c.useState)([]),t=Object(p.a)(e,2),n=t[0],r=t[1];function a(){return(a=Object(m.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/".concat(t),{method:"DELETE"});case 2:c=n.filter((function(e){return e._id!==t})),r(c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){function e(){return(e=Object(m.a)(j.a.mark((function e(){var t,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/record/");case 2:if((t=e.sent).ok){e.next=7;break}return n="An error occured: ".concat(t.statusText),window.alert(n),e.abrupt("return");case 7:return e.next=9,t.json();case 9:c=e.sent,r(c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n.length]),Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Record List"}),Object(l.jsxs)("table",{className:"table table-striped",style:{marginTop:20},children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Position"}),Object(l.jsx)("th",{children:"Level"}),Object(l.jsx)("th",{children:"Action"})]})}),Object(l.jsx)("tbody",{children:n.map((function(e){return Object(l.jsx)(b,{record:e,deleteRecord:function(){return function(e){return a.apply(this,arguments)}(e._id)}},e._id)}))})]})]})}var f,O=n(8);function x(){var e=Object(c.useState)({name:"",position:"",level:"",records:[]}),t=Object(p.a)(e,2),n=t[0],r=t[1],a=Object(o.g)(),s=Object(o.f)();function i(e){return r((function(t){return Object(O.a)(Object(O.a)({},t),e)}))}function u(){return(u=Object(m.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={name:n.name,position:n.position,level:n.level},e.next=4,fetch("http://localhost:5000/update/".concat(a.id),{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}});case 4:s("/");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){function e(){return(e=Object(m.a)(j.a.mark((function e(){var t,n,c,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.id.toString(),e.next=3,fetch("http://localhost:5000/record/".concat(a.id.toString()));case 3:if((n=e.sent).ok){e.next=8;break}return c="An error has occured: ".concat(n.statusText),window.alert(c),e.abrupt("return");case 8:return e.next=10,n.json();case 10:if(o=e.sent){e.next=15;break}return window.alert("Record with id ".concat(t," not found")),s("/"),e.abrupt("return");case 15:r(o);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a.id,s]),Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Update Record"}),Object(l.jsxs)("form",{onSubmit:function(e){return u.apply(this,arguments)},children:[Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"name",children:"Name: "}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"name",value:n.name,onChange:function(e){return i({name:e.target.value})}})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"position",children:"Position: "}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"position",value:n.position,onChange:function(e){return i({position:e.target.value})}})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsxs)("div",{className:"form-check form-check-inline",children:[Object(l.jsx)("input",{className:"form-check-input",type:"radio",name:"positionOptions",id:"positionIntern",value:"Intern",checked:"Intern"===n.level,onChange:function(e){return i({level:e.target.value})}}),Object(l.jsx)("label",{htmlFor:"positionIntern",className:"form-check-label",children:"Intern"})]}),Object(l.jsxs)("div",{className:"form-check form-check-inline",children:[Object(l.jsx)("input",{className:"form-check-input",type:"radio",name:"positionOptions",id:"positionJunior",value:"Junior",checked:"Junior"===n.level,onChange:function(e){return i({level:e.target.value})}}),Object(l.jsx)("label",{htmlFor:"positionJunior",className:"form-check-label",children:"Junior"})]}),Object(l.jsxs)("div",{className:"form-check form-check-inline",children:[Object(l.jsx)("input",{className:"form-check-input",type:"radio",name:"positionOptions",id:"positionSenior",value:"Senior",checked:"Senior"===n.level,onChange:function(e){return i({level:e.target.value})}}),Object(l.jsx)("label",{htmlFor:"positionSenior",className:"form-check-label",children:"Senior"})]})]}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("input",{type:"submit",value:"Update Record",className:"btn btn-primary"})})]})]})}function v(){var e=Object(c.useState)({name:"",address:"",phone_number:"",description:"",category:"",website_url:"",image_url:"",law_enforcement_compliant:null}),t=Object(p.a)(e,2),n=t[0],r=t[1],a=Object(o.f)();function s(e){return r((function(t){return Object(O.a)(Object(O.a)({},t),e)}))}function i(){return(i=Object(m.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c=Object(O.a)({},n),e.next=4,fetch("http://localhost:5000/record/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).catch((function(e){window.alert(e)}));case 4:r({name:"",address:"",phone_number:"",description:"",category:"",website_url:"",image_url:"",law_enforcement_compliant:!1}),a("/");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Add New Resource"}),Object(l.jsxs)("form",{onSubmit:function(e){return i.apply(this,arguments)},children:[Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"name",children:"Name"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"name",value:n.name,onChange:function(e){return s({name:e.target.value})}})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"address",children:"Address"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"address",value:n.address,onChange:function(e){return s({address:e.target.value})}})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"phone_number",children:"Phone Number"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"phone_number",value:n.phone_number,onChange:function(e){return s({phone_number:e.target.value})}})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"description",children:"Description"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"description",value:n.description,onChange:function(e){return s({description:e.target.value})}})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"category",children:"Category"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"category",value:n.category,onChange:function(e){return s({category:e.target.value})}})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"website_url",children:"Website Url"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"website_url",value:n.website_url,onChange:function(e){return s({website_url:e.target.value})}})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"image_url",children:"Cover Image"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"image_url",value:n.image_url,onChange:function(e){return s({image_url:e.target.value})}})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsxs)("div",{className:"form-check form-check-inline",children:[Object(l.jsx)("input",{className:"form-check-input",type:"radio",name:"law_enforcement_compliant",id:"notCompliant",value:"No",checked:"No"===n.law_enforcement_compliant,onChange:function(e){return s({law_enforcement_compliant:e.target.value})}}),Object(l.jsx)("label",{htmlFor:"positionIntern",className:"form-check-label",children:"No"})]}),Object(l.jsxs)("div",{className:"form-check form-check-inline",children:[Object(l.jsx)("input",{className:"form-check-input",type:"radio",name:"law_enforcement_compliant",id:"compliant",value:"Yes",checked:"Yes"===n.law_enforcement_compliant,onChange:function(e){return s({law_enforcement_compliant:e.target.value})}}),Object(l.jsx)("label",{htmlFor:"positionJunior",className:"form-check-label",children:"Yes"})]})]}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("input",{type:"submit",value:"Create person",className:"btn btn-primary"})})]})]})}function g(e,t){(f=new window.google.maps.places.Autocomplete(t.current,{types:["(cities)"],componentRestrictions:{country:"us"}})).setFields(["address_components","formatted_address"]),f.addListener("place_changed",(function(){return function(e){return N.apply(this,arguments)}(e)}))}function N(){return(N=Object(m.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=f.getPlace(),c=n.formatted_address,t(c),console.log(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(){var e=Object(c.useState)(""),t=Object(p.a)(e,2),n=t[0],r=t[1],a=Object(c.useRef)(null);return Object(c.useEffect)((function(){!function(e,t){console.log("AIzaSyAu3dAqQtJ82VeaI5szGlToUIuBQN8QOVQ");var n=document.createElement("script");n.type="text/javascript",n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){return t()},n.src=e,document.getElementsByTagName("head")[0].appendChild(n)}("https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyAu3dAqQtJ82VeaI5szGlToUIuBQN8QOVQ","&libraries=places"),(function(){return g(r,a)}))}),[]),Object(l.jsx)("div",{className:"search-location-input",children:Object(l.jsx)("input",{ref:a,onChange:function(e){return r(e.target.value)},placeholder:"Enter a City",value:n})})},k=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(u,{}),Object(l.jsx)("div",{style:{margin:20},children:Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{exact:!0,path:"/",element:Object(l.jsx)(h,{})}),Object(l.jsx)(o.a,{path:"/edit/:id",element:Object(l.jsx)(x,{})}),Object(l.jsx)(o.a,{path:"/create",element:Object(l.jsx)(v,{})})]})}),Object(l.jsx)(y,{onChange:function(){return null}})]})};s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(i.a,{children:Object(l.jsx)(k,{})})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.641d64a2.chunk.js.map